/*!
 * jQuery Floating Share Plugin v1.0.1
 * http://www.burakozdemir.co.uk
 *
 * Copyright 2015 Burak Ã–zdemir - <mail@burakozdemir.co.uk>
 * Released under the MIT license
 */

!function(t,e,s){function n(e,s){this.element=e,this.settings=t.extend({},o,s),this._defaults=o,this._name=l,this.init()}function i(t,n,i,a){var r=e.innerWidth?e.innerWidth:s.documentElement.clientWidth?s.documentElement.clientWidth:screen.width,l=e.innerHeight?e.innerHeight:s.documentElement.clientHeight?s.documentElement.clientHeight:screen.height,o=r/2-i/2+10,p=l/2-a/2+50,c=e.open(t,n,"scrollbars=yes, width="+i+", height="+a+", top="+p+", left="+o);c.focus()}function a(t){return t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"G":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t}function r(s,n,i){switch(n=encodeURI(n),s){case"facebook":t.get("http://graph.facebook.com/"+n,function(e){if(e.shares&&e.shares>0){var s=t("<span>",{"class":"shareCount"});s.append(a(e.shares)),i.append(s),i.find("i").removeClass("mtop5")}},"jsonp");break;case"twitter":t.get("http://urls.api.twitter.com/1/urls/count.json?url="+n+"&callback=?",function(e){if(e.count&&e.count>0){var s=t("<span>",{"class":"shareCount"});s.append(a(e.count)),i.append(s),i.find("i").removeClass("mtop5")}},"jsonp");break;case"linkedin":t.get("http://www.linkedin.com/countserv/count/share?url="+n+"&callback=?",function(e){if(e.count&&e.count>0){var s=t("<span>",{"class":"shareCount"});s.append(a(e.count)),i.append(s),i.find("i").removeClass("mtop5")}},"jsonp");break;case"pinterest":t.get("http://api.pinterest.com/v1/urls/count.json?url="+n+"&callback=?",function(e){if(e.count&&e.count>0){var s=t("<span>",{"class":"shareCount"});s.append(a(e.count)),i.append(s),i.find("i").removeClass("mtop5")}},"jsonp");break;case"google-plus":e.services||(e.services={},e.services.gplus={}),e.services.gplus.cb=function(t){e.gplusShares=t},t.getScript("http://share.yandex.ru/gpp.xml?url="+n+"&callback=?",function(){if(e.gplusShares>0){var s=t("<span>",{"class":"shareCount"});s.append(a(e.gplusShares)),i.append(s),i.find("i").removeClass("mtop5")}});break;default:return-1}}var l="floatingShare",o={place:"top-left",counter:!0,buttons:["facebook","twitter","google-plus","linkedin"],title:s.title,url:e.location.href,text:"share with ",description:t("meta[name='description']").attr("content"),popup_width:400,popup_height:300};t.extend(n.prototype,{init:function(){var e=this;-1==t.inArray(this.settings.place,c)&&(this.settings.place=this._defaults.place);var s=t("<div>",{id:"floatingShare"}),n=t("<div>",{"class":this.settings.place});n.appendTo(s),t.each(this.settings.buttons,function(s,i){t.each(p,function(s,a){if(i==s){var l=t("<a>",{title:e.settings.title,"class":""+a.className+" pop-upper"}),o=t("<i>",{"class":"mtop5 fa fa-"+i}),p=a.url;return p=p.replace("{url}",e.settings.url).replace("{title}",e.settings.title).replace("{description}",e.settings.description),l.attr("href",p).attr("title",e.settings.text+i).append(o),e.settings.counter===!0&&r(i,e.settings.url,l),n.append(l),!1}})}),s.appendTo(this.element);var a=t(this.element).find(".pop-upper");a.on("click",function(s){s.preventDefault(),i(t(this).attr("href"),t(this).attr("title"),e.settings.popup_width,e.settings.popup_height)})}});var p={facebook:{className:"feysbuk",url:"https://www.facebook.com/sharer/sharer.php?u={url}&t={title}"},twitter:{className:"tivitir",url:"https://twitter.com/home?status={url}"},"google-plus":{className:"gogil",url:"https://plus.google.com/share?url={url}"},linkedin:{className:"linktin",url:"https://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}&summary={description}&source="},envelope:{className:"meyil",url:"mailto:asd@asd.com?subject={url}"},pinterest:{className:"pinter",url:"https://pinterest.com/pin/create%2Fbutton/?url={url}"},stumbleupon:{className:"stambul",url:"https://www.stumbleupon.com/submit?url={url}&title={title}"}},c=["top-left","top-right"];t.fn[l]=function(e){return this.each(function(){t.data(this,"plugin_"+l)||t.data(this,"plugin_"+l,new n(this,e))}),this}}(jQuery,window,document);